name: "Setup Z3"
description: "Set up a specific version of the Z3 theorem prover"
author: "cda-tum"
inputs:
  version:
    description: "The version of Z3 to install. Defaults to latest."
    required: false
    default: "latest"
  platform:
    description: "The platform to install Z3 for (either linux, macOS, or windows). Defaults to host."
    required: false
    default: "host"
  architecture:
    description: "The architecture to install Z3 for (either x64 or arm64). Defaults to host."
    required: false
    default: "host"
outputs:
  z3-root:
    description: "The root directory of the Z3 installation"
    value: ${{ steps.action.outputs.z3-root }}
runs:
  using: composite
  steps:
    - name: Setup Node
      uses: actions/setup-node@v3
      with:
        node-version: 18
    - name: Action
      id: action
      run: |
        node ${{ github.action_path }}/dist/index.js
        echo "{z3-root}={value1}" >> $GITHUB_OUTPUT
      shell: ${{ (runner.os == 'Windows' && 'pwsh') || 'bash' }}
      env:
        INPUT_VERSION: ${{ inputs.version }}
        INPUT_PLATFORM: ${{ inputs.platform }}
        INPUT_ARCHITECTURE: ${{ inputs.architecture }}
branding:
  icon: "package"
  color: "blue"
